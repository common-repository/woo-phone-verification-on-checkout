(()=>{"use strict";const e=window.wc.blocksCheckout,t=window.wp.element,n=function(e){var n=e.attributes,a=e.setAttributes,i=e.setPhoneNumber;return n.phoneVerification,(0,t.useEffect)((function(){var e=(navigator.language||"en").split(",")[0].substr(0,2);console.log("Widget useEffect triggered");var t=rc_options.gdpr_implementation||!1,n=rc_options.js_implementation||!1,o=rc_options.app_key||"";rc_options.gdpr_consent_message,t?(document.getElementById("widget-point").innerHTML='<div id="xyz" data-widget data-locale="'+e+'" data-type="dual" data-mode="signup"></div>',document.getElementById("gdpr_consent").value="false",n&&(document.getElementById("ringcaptcha_verified").value="false"),new RingCaptcha.Widget("#xyz",{app:o,locale:e,events:{verified:function(){document.getElementById("ringcaptcha_verified").value="true",a("verified")}}}).setup()):n?(document.getElementById("widget-point").innerHTML='<div id="xyz" data-widget data-locale="'+e+'" data-type="dual" data-mode="signup"></div>',document.getElementById("ringcaptcha_verified").value="false",new RingCaptcha.Widget("#xyz",{app:o,locale:e,events:{verified:function(){document.getElementById("ringcaptcha_verified").value="true",a("verified")}}}).setup()):(document.getElementById("widget-point").innerHTML='<div data-widget data-app="'+o+'" data-locale="'+e+'" data-type="dual"></div>',new RingCaptcha.Widget("[data-widget]",{app:o,locale:e,events:{verified:function(){document.getElementById("ringcaptcha_verified").value="true";var e=document.getElementsByName("ringcaptcha_phone_number");a("verified"),i(e[0].value)}}}).setup()),document.querySelectorAll(".panel.woocommerce_options_panel").forEach((function(e){console.log("Panel ID:",e.id,"Display:",e.style.display)}))}),[]),React.createElement("div",null,React.createElement("div",{id:"widget-point"}),React.createElement("input",{id:"gdpr_consent",type:"hidden",name:"gdpr_consent",value:"false"}),React.createElement("input",{id:"ringcaptcha_verified",type:"hidden",name:"ringcaptcha_verified",value:"false"}))};function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,i,o,r,c=[],l=!0,d=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(a=o.call(n)).done)&&(c.push(a.value),c.length!==t);l=!0);}catch(e){d=!0,i=e}finally{try{if(!l&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(d)throw i}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}console.log("RingCaptcha Block: block.js loaded");const o=JSON.parse('{"apiVersion":2,"name":"ringcaptcha/ringcaptcha-block","version":"1.0.0","title":"Phone Verification Block","category":"woocommerce","description":"A block for phone verification on the checkout page.","supports":{"html":false,"align":false,"multiple":false,"reusable":false},"parent":["woocommerce/checkout-shipping-address-block"],"attributes":{"lock":{"type":"object","default":{"remove":true,"move":true}}},"textdomain":"woo-phone-verification-on-checkout","editorScript":"file:../../../build/ringcaptcha-block.js","editorStyle":"file:../../../build/style-ringcaptcha-block.css"}');console.log("RingCaptcha Block: frontend.js loaded"),(0,e.registerCheckoutBlock)({metadata:o,component:function(e){var i=e.checkoutExtensionData.setExtensionData,o=a((0,t.useState)(""),2),r=o[0],c=o[1],l=a((0,t.useState)(""),2),d=l[0],u=l[1];return(0,t.useEffect)((function(){i("ringcaptcha","phoneVerification",r)}),[r,i]),(0,t.useEffect)((function(){i("ringcaptcha","phoneNumber",d)}),[d,i]),React.createElement("div",{className:"wp-block-ringcaptcha-phone-verification"},React.createElement(n,{attributes:{phoneVerification:r},setPhoneNumber:u,setAttributes:c}))}})})();